---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';

export interface Props {
  title: string;
  heroImage?: string;
  author?: {
    name?: string;
    avatar?: string;
  };
  readingTime?: string;
}

const { title, heroImage, author, publishDate, updatedDate, tags = [], readingTime } = Astro.props as Props;

const frontmatter = { title, tableOfContents: false };
---
<StarlightPage frontmatter={frontmatter} hasSidebar={false}>
  {heroImage && (
    <img src={heroImage} alt={title} style="width:100%;object-fit:cover;" />
  )}
  <header style="margin-bottom:1rem;">
    {(author?.avatar || author?.name) && (
      <div style="display:flex;align-items:center;gap:0.5rem;">
        {author?.avatar && (
          <img src={author.avatar} alt={author.name ?? 'Author'} style="width:40px;height:40px;border-radius:50%;" />
        )}
        {author?.name && <span>{author.name}</span>}
      </div>
    )}
    <div style="display:flex;flex-wrap:wrap;gap:0.5rem;font-size:0.875rem;color:var(--sl-color-text-secondary);">
      {readingTime && <span>{readingTime}</span>}
    </div>
  </header>
  <article>
    <slot />
  </article>
</StarlightPage>
