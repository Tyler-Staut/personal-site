---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';

export interface Props {
  title: string;
  heroImage?: string;
  author?: {
    name?: string;
    avatar?: string;
  };
  readingTime?: string;
}

const { title, heroImage, author, publishDate, updatedDate, tags = [], readingTime } = Astro.props as Props;

const frontmatter = { title, tableOfContents: false };
---
<StarlightPage frontmatter={frontmatter} hasSidebar={false}>
  {heroImage && (
    <img src={heroImage} alt={title} class="w-full object-cover" />
  )}
  <header class="mb-4">
    {(author?.avatar || author?.name) && (
      <div class="flex items-center gap-2">
        {author?.avatar && (
          <img src={author.avatar} alt={author.name ?? 'Author'} class="w-10 h-10 rounded-full" />
        )}
        {author?.name && <span>{author.name}</span>}
      </div>
    )}
    <div class="flex flex-wrap gap-2 text-sm text-[var(--sl-color-text-secondary)]">
      {readingTime && <span>{readingTime}</span>}
    </div>
  </header>
  <article>
    <slot />
  </article>
</StarlightPage>
